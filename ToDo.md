# ToDo.md

## 2025-09-09

- [*] 下記のエラーの解消
```
uv run hatch publish -r test
dist/pi0servo-0.1.7.tar.gz ... failed
*****E*****r*****r*****o*****r***** *****u*****p*****l*****o*****a*****d*****i*****n*****g***** *****t*****o***** *****r*****e*****p*****o*****s*****i*****t*****o*****r*****y*****:***** *****h*****t*****t*****p*****s*****:*****/*****/*****t*****e*****s*****t*****.*****p*****y*****p*****i*****.*****o*****r*****g*****/*****l*****e*****g*****a*****c*****y*****/***** *****-***** *****C*****l*****i*****e*****n*****t***** *****e*****r*****r*****o*****r***** *****'*****4*****0*****3***** *****F*****o*****r*****b*****i*****d*****d*****e*****n*****'***** *****f*****o*****r***** *****u*****r*****l***** *****'*****h*****t*****t*****p*****s*****:*****/*****/*****t*****e*****s*****t*****.*****p*****p*****i*****.*****o*****r*****g*****/*****l*****e*****g*****a*****c*****y*****/*****'*****
*****F*****o*****r***** *****m*****o*****r*****e***** *****i*****n*****f*****o*****r*****m*****a*****t*****i*****o*****n***** *****c*****h*****e*****c*****k*****:***** *****h*****t*****t*****p*****p*****s*****:*****/*****/*****d*****e*****v*****e*****l*****o*****p*****e*****r*****.*****m*****o*****z*****i*****l*****l*****a*****.*****o*****r*****g*****/*****e*****n*****-*****U*****S*****/*****d*****o*****c*****s*****/*****W*****e*****b*****/*****H*****T*****T*****P*****/*****S*****t*****a*****t*****u*****s*****/*****4*****0*****3*****
```

- [*] 'uv run hatch publish ....' によるやり方について、整理して、現在無駄な部分はないか確認し、より洗練させる。

- [*] 同じ失敗を繰り返さないように GEMINI.mdを修正する。
  - GEMINI.md は、英語で、なるべくトークンを消費しない文章にする。
- [*] GEMINI.md に基づいて、日本語版の GEMINI-ja.md を修正する。


- [*] GEMINI.md と、GEMINI-ja.mdの内容に齟齬がないか、再確認する。ChatGPTからの指摘事項は以下の通り。
```
見つかった齟齬（重要順）

テストの「連番 (numbered sequentially)」が日本語版に書かれていない
英語版: Test programs must be created under the tests directory, numbered sequentially.
日本語版: tests/以下に作成 としかなく、連番で番号付けする旨が抜けてる。

ソース修正時の「テスト作成・更新」が抜けている
英語版: After modifying source code, always: Run linting and Create, update, and run test programs
日本語版: コード変更時は lint / test 実施 とだけで、「テストの作成・更新」を明示していない。

ToDo.md の 1項目 = 1 Tasks.md（原則）が日本語版にない
英語版: In principle, one item in ToDo.md = one Tasks.md. → 日本語版に明示的な同等ルールが欠落。

プロジェクトルートでの存在チェック／「両方無ければ何もしないでユーザーに確認」指示が明確でない
英語版は「まず ToDo.md と Tasks.md の存在を確認。両方無ければ何もしないでユーザーに尋ねる」とあるが、日本語版の冒頭ではそのチェックが明記されていない（4.2では Tasks.md が無い場合の処理はある）。

「作業前に必ず Tasks.md を作る」という表現が矛盾を招く可能性
英語版トップで「Before starting any work, always create a Tasks.md」とある一方、4.1では Tasks.md が既に存在する場合のフローがある。このままだと「既にあるときはどうするの？」と解釈のズレが起きる。日本語版も同様の書き方で曖昧。

```
